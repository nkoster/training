function getHeight(){return"number"==typeof window.innerWidth?window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?document.documentElement.clientHeight:document.body&&(document.body.clientWidth||document.body.clientHeight)?document.body.clientHeight:void 0}function updateMonitor(e){for(monitor[counter]=e,div="",i=0;i<monitor.length;i++){var n=monitor[i].split(" "),t=parseFloat(n[1]),o="#2f5";t>1&&(o="#fa3"),t>2&&(o="#f32");var r=t.toFixed(3);r=new Array(7-r.length).join(" ")+r;var l=n[0],d=n[2];d=new Array(17-d.length).join(" ")+d;var u=n[3],c="normal",m="none";i==counter&&(c="bold",m=o,o="black"),div+='<div class="monitor" style="color:'+o+";font-weight:"+c+";background:"+m+'"> '+l+"   "+r+" "+d+"   "+u+"</div>\n"}screenChanged&&(screenChanged=!1,monitor.splice(numberOfLines),div.split("\n").slice(numberOfLines).join("\n"),counter>numberOfLines&&(counter=numberOfLines)),document.getElementById("monitor").innerHTML=""+div,numberOfLines-1>counter?counter+=1:counter=0,timeout=0}function handleKeyDown(e){var n=0,t=0,o=0,i=null==e?event:e;return o=i.shiftKey,t=i.altKey,n=i.ctrlKey,self.status="shiftKey="+o+", altKey="+t+", ctrlKey="+n,(t||n)&&70==i.keyCode&&alert("Filter menu not available"),!0}var monitorHeight=0,lineHeight=17,monitorHeight=getHeight(),numberOfLines=Math.floor(monitorHeight/lineHeight)-1;3>numberOfLines&&(numberOfLines=3);var timeoutThreshold=30,timeout=0,monitor=[],counter=0,div="",screenChanged=!1,host=window.document.location.host.replace(/:.*/,""),ws=new WebSocket("ws://"+host+":"+location.port);ws.onmessage=function(e){updateMonitor(e.data)},window.onresize=function(){monitorHeight=getHeight();var e=Math.floor(monitorHeight/lineHeight)-1;3>e&&(e=3),numberOfLines=e,screenChanged=!0},document.onkeydown=handleKeyDown,setInterval(function(){timeout>timeoutThreshold?(document.getElementById("l2").style.transition="all 0.5s",document.getElementById("l2").style.background="#400"):(document.getElementById("l2").style.background="black",timeout++)},1e3);